.\" -*- nroff -*-
.\" $Revision$
.TH PULLNEWS 8
.SH NAME
pullnews \- a perl script for pulling news from one news machine and feeding it 
to another.
.SH SYNOPSIS
.I pullnews
[
.BI \-c " config"
]
[
.BI \-g " groups"
]
[
.B \-h
]
[
.BI \-p " port"
]
[
.B \-q
]
[
.BI \-r " file"
]
[
.BI \-s " downstream-server"
]
[ remote-server ... ]
.SH DESCRIPTION
.PP
.I pullnews 
is run as a regular user process. It reads a config file in the users
home directory (normally called 
.IR .pullnews )
and connects to the upstream servers
defined in there as a reader client. You may specifiy hostnames on the command
line to limit the set of remote hosts it connects to, but each host must be
listed in the 
.I .pullnews
file.
.PP
For each server it connects to it pulls
over articles and feeds them to the downstream (local) server via the IHAVE
(feeder) NNTP command. This means the computer
.I pullnews
is run on must have
feeding access to the downstream news host.
.PP
.I pullnews
is designed for very small sites and is not meant for reverse-feeding large
feeds.
.PP
You must have Graham Barr's Net::NNTP perl module installed on your
system. This is part of the libnet bundle and can be found on CPAN or from
Graham's site http://www.connect.net/gbarr/
.SH OPTIONS
.TP
.BI \-c " config"
Normally the config file is stored in $HOME/.pullnews for the user running the 
.I pullnews
program. The ``\fB\-c\fP'' flag lets you change that.
.TP
.BI \-g " groups"
The ``\fB\-g\fP'' flag specifies a collection of groups to get.
The value must be a single argument with commas between group names.
Each group must be defined in the config file.
Only the remote hosts that carry those groups will be contacted.
.TP
.B \-h
The ``\fB\-h\fP'' flag just prints usage.
.TP
.BI \-p " port"
The ``\fB\-p\fP'' flag can be used to change connecting port to
something other than 119.
.TP
.B \-q
The ``\fB\-q\fP'' flag can be used to make things run more quietly.
.TP
.BI \-r " file"
The ``\fB\-r\fP'' flag tells
.I pullnews
to create an rnews-compatible file, instead of feeding articles.
.TP
.BI \-s " downstream-server"
Normally 
.I pullnews
will feed the articles it retrieves to the news server running on
``\fBlocalhost\fP''. The ``\fB\-s\fP'' flag lets you change that. 
.SH "CONFIG FILE"
.PP
The config file for
.I pullnews
is a series of sets of lines describing the upstream hosts to connect to and
the newsgroups to get articles from. A host line has no leading white space and 
just has the name of the host to connect to. Group lines come after a host line
and have leading white space followed by the group name.
.PP
.I pullnews
will update the config file to include the time the group was last checked and
the highest numbered article successfully retrieved and transfered to the
downstream server.
.PP
A sample configuration file might look like:
.PP
.RS
.nf
# Format group date high
data.pa.vix.com
        rec.bicycles.racing 908086612 783
        rec.humor.funny 908086613 18
        comp.programming.threads
nnrp.vix.com
        comp.std.lisp
.fi
.RE
.PP
The group entries for the two rec.* groups have been updated by an earlier run
by
.IR pullnews ,
whereas the two comp.* groups were just inserted by the user and have
not yet been checked.
.SH HISTORY
pullnews was written by James Brister for INN.
.de R$
This is revision \\$3, dated \\$4.
..
.R$ $Id$
.SH BUGS
.I pullnews
is very simple and is lacking in more sophisticated features (like killing
articles based on user-defined conditions) that better pull feeders most
certainly have. It also doesn't keep or log much detail on articles transferred.
.PP
Due to a limitation in the Net::NNTP perl module, one of the functions in there 
is redefined inside the 
.I pullnews
source. A future release of the libnet packages will fix that.
.SH "SEE ALSO"
ctlinnd(8),
inn.conf(5),
innd(8),
newsfeeds(5),
shlock(1).

