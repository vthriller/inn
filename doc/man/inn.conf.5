.\" Automatically generated by Pod::Man version 1.15
.\" Thu Jun  6 06:27:40 2002
.\"
.\" Standard preamble:
.\" ======================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R

.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used
.\" to do unbreakable dashes and therefore won't be available.  \*(C` and
.\" \*(C' expand to `' in nroff, nothing in troff, for use with C<>
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr
.\" for titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and
.\" index entries marked with X<> in POD.  Of course, you'll have to process
.\" the output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it
.\" makes way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.bd B 3
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ======================================================================
.\"
.IX Title "inn.conf 5"
.TH inn.conf 5 "INN 2.4.0" "2002-05-23" "InterNetNews Documentation"
.UC
.SH "NAME"
inn.conf \- Configuration data for InterNetNews programs
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fIinn.conf\fR in \fIpathetc\fR is the primary general configuration file for
all InterNetNews programs.  Settings which control the general operation
of various programs, as well as the paths to all portions of the news
installation, are found here.  The \s-1INNCONF\s0 environment variable, if set,
specifies an alternate path to \fIinn.conf\fR.
.PP
Blank lines and lines starting with a number sign (\f(CW\*(C`#\*(C'\fR) are ignored.  All
other lines specify parameters, and should be of the following form:
.PP
.Vb 1
\&    <name>: <value>
.Ve
(Any amount of whitespace can be put after the colon and is optional.)
Everything after the colon and optional whitespace up to the end of the
line is taken as the value.  Multi-word values should not be put in
quotes; if they are, the quotes will be taken as part of the value, not as
delimiters.  <name> is case-sensitive; \f(CW\*(C`server\*(C'\fR is not the same as
\&\f(CW\*(C`Server\*(C'\fR or \f(CW\*(C`SERVER\*(C'\fR.  (\fIinn.conf\fR parameters are generally all in
lowercase.)
.PP
If <name> occurs more than once in the file, the first value is used.
Some parameters specified in the file may be overridden by environment
variables.  Most parameters have default values if not specified in
\&\fIinn.conf\fR; those defaults are noted in the description of each
parameter.
.PP
For the time being, it is strongly recommended to include every parameter
in \fIinn.conf\fR even if it is set to the default value, since some shell
scripts don't correctly handle missing keys that they care about.  This is
a difficult-to-fix bug in the current parser that will be fixed in future
versions of \s-1INN\s0.
.PP
Many parameters take a boolean value.  For all such parameters, the value
may be specified as \f(CW\*(C`true\*(C'\fR, \f(CW\*(C`yes\*(C'\fR, or \f(CW\*(C`on\*(C'\fR to turn it on and may be any
of \f(CW\*(C`false\*(C'\fR, \f(CW\*(C`no\*(C'\fR, or \f(CW\*(C`off\*(C'\fR to turn it off.  The case of these values is
not significant.
.PP
This file is intended to be fairly static.  Any changes made to it will
generally not affect any running programs until they restart.  Unlike
nearly every other configuration file, \fIinn.conf\fR cannot be reloaded
dynamically using \fIctlinnd\fR\|(8); \fIinnd\fR\|(8) must be stopped and restarted for
relevant changes to \fIinn.conf\fR to take effect (\f(CW\*(C`ctlinnd xexec innd\*(C'\fR is
the fastest way to do this.)
.PP
This documentation is extremely long and organized as a reference manual
rather than as a tutorial.  If this is your first exposure to \s-1INN\s0 and
these parameters, it would be better to start by reading other man pages
and referring to this one only when an \fIinn.conf\fR parameter is explicitly
mentioned.
.SH "PARAMETERS"
.IX Header "PARAMETERS"
.Sh "General Settings"
.IX Subsection "General Settings"
These parameters are used by a wide variety of different components of
\&\s-1INN\s0.
.Ip "\fIdomain\fR" 4
.IX Item "domain"
This should be the domain name of the local host.  It should not have a
leading period, and it should not be a full host address.  It is used only
if the \fIGetFQDN()\fR routine in \fIlibinn\fR\|(3) cannot get the fully-qualified
domain name by using either the \fIgethostname\fR\|(3) or \fIgethostbyname\fR\|(3) calls.
The check is very simple; if either routine returns a name with a period
in it, then it is assumed to have the full domain name.  The default value
is unset.
.Ip "\fIinnflags\fR" 4
.IX Item "innflags"
The flags to pass to innd on startup.  See \fIinnd\fR\|(8) for details on the
possible flags.  The default value is unset.
.Ip "\fImailcmd\fR" 4
.IX Item "mailcmd"
The path to the program to be used for mailing reports and control
messages.  The default is \fIpathbin\fR/innmail.  This should not normally
need to be changed.
.Ip "\fImta\fR" 4
.IX Item "mta"
The command to use when mailing postings to moderators and for the use of
\&\fIinnmail\fR\|(1).  The message, with headers and an added To: header, will be
piped into this program.  The string \f(CW\*(C`%s\*(C'\fR, if present, will be replaced
by the e-mail address of the moderator.  It's strongly recommended for
this command to include \f(CW\*(C`%s\*(C'\fR on the command line rather than use the
addresses in the To: and Cc: headers of the message, since the latter
approach allows the news server to be abused as a mechanism to send mail
to arbitrary addresses and will result in unexpected behavior.  There is
no default value for this parameter; it must be set in \fIinn.conf\fR or a
fatal error message will be logged via syslog.
.Sp
For most systems, \f(CW\*(C`/usr/lib/sendmail \-oi \-oem %s\*(C'\fR (adjusted for the
correct path to sendmail) is a good choice.
.Ip "\fIpathhost\fR" 4
.IX Item "pathhost"
What to put into the Path: header to represent the local site.  This is
added to the Path: header of all articles that pass through the system,
including locally posted articles, and is also used when processing some
control messages and when naming the server in status reports.  There is
no default value; this parameter must be set in \fIinn.conf\fR or \s-1INN\s0 will
not start.  A good value to use is the fully-qualified hostname of the
system.
.Ip "\fIserver\fR" 4
.IX Item "server"
The name of the default \s-1NNTP\s0 server.  If \fInnrpdposthost\fR is not set and
\&\s-1UNIX\s0 domain sockets are not supported, \fInnrpd\fR\|(8) tries to hand off
locally-posted articles through an \s-1INET\s0 domain socket to this server.
\&\fIactsync\fR\|(8), \fInntpget\fR\|(8), and \fIgetlist\fR\|(8) also use this value as the default
server to connect to.  In the latter cases, the value of the \s-1NNTPSERVER\s0
environment variable, if it exists, overrides this.  The default value is
unset.
.Sh "Feed Configuration"
.IX Subsection "Feed Configuration"
These parameters govern incoming and outgoing feeds:  what size of
articles are accepted, what filtering and verification is performed on
them, whether articles in groups not carried by the server are still
stored and propagated, and other similar settings.
.Ip "\fIartcutoff\fR" 4
.IX Item "artcutoff"
Articles older than this number of days are dropped.  This setting should
probably match the setting on the \f(CW\*(C`/remember/\*(C'\fR line in \fIexpire.ctl\fR.
The default value is \f(CW\*(C`10\*(C'\fR.
.Ip "\fIbindaddress\fR" 4
.IX Item "bindaddress"
Which \s-1IP\s0 address \fIinnd\fR\|(8) should bind itself to.  This must be in
dotted-quad format (nnn.nnn.nnn.nnn).  If set to \f(CW\*(C`all\*(C'\fR or not set, innd
defaults to listening on all interfaces.  The value of the
\&\s-1INND_BIND_ADDRESS\s0 environment variable, if set, overrides this setting.
The default value is unset.
.Ip "\fIbindaddress6\fR" 4
.IX Item "bindaddress6"
Like \fIbindaddress\fR but for IPv6 sockets. If only one of the \fIbindaddress\fR
and \fIbindaddress6\fR parameters is used, then only the socket for the
corresponding address family is created. If both parameters are used
then two sockets are created. If none of them is used, the list of
sockets to listen on will be determined by the system library
\&\fI\fIgetaddrinfo\fI\|(3)\fR function.
.Ip "\fIhiscachesize\fR" 4
.IX Item "hiscachesize"
If set to a value other than \f(CW\*(C`0\*(C'\fR, a hash of recently received message IDs
is kept in memory to speed history lookups.  The value is the amount of
memory to devote to the cache in kilobytes.  The cache is only used for
incoming feeds and a small cache can hold quite a few message IDs, so
large values aren't necessarily useful unless you have incoming feeds that
are badly delayed.  A good value for a system with more than one incoming
feed is \f(CW\*(C`256\*(C'\fR; systems with only one incoming feed should probably leave
this at \f(CW\*(C`0\*(C'\fR.  The default value is \f(CW\*(C`0\*(C'\fR.
.Ip "\fIignorenewsgroups\fR" 4
.IX Item "ignorenewsgroups"
Whether newsgroup creation control messages (newgroup and rmgroup) should
be fed as if they were posted to the newsgroup they are creating or
deleting rather than to the newsgroups listed in the Newsgroups: header.
If this parameter is set, the newsgroup affected by the control message
will be extracted from the Control: or Subject: header and the article
will be fed as if its Newsgroups: header contained solely that newsgroup.
This is useful for routing control messages to peers when they are posted
to irrelevant newsgroups that shouldn't be matched against the peer's
desired newsgroups in \fInewsfeeds\fR.  This is a boolean value and the
default is false.
.Ip "\fIimmediatecancel\fR" 4
.IX Item "immediatecancel"
When using the timecaf storage method, article cancels are normally just
cached to be cancelled, not cancelled immediately.  If this is set to
true, they will instead by cancelled as soon as the cancel is processed.
This is a boolean value and the default is false.
.Sp
This setting is ignored unless the timecaf storage method is used.
.Ip "\fIlinecountfuzz\fR" 4
.IX Item "linecountfuzz"
If set to something other than \f(CW\*(C`0\*(C'\fR, the line count of the article is
checked against the Lines: header of the article (if present) and the
artice is rejected if the values differ by more than this amount.  A
reasonable setting is \f(CW\*(C`5\*(C'\fR, which is the standard maximum signature length
plus one (some injection software calculates the Lines: header before
adding the signature).  The default value is \f(CW\*(C`0\*(C'\fR, which tells \s-1INN\s0 not to
check the Lines: header of incoming articles.
.Ip "\fImaxartsize\fR" 4
.IX Item "maxartsize"
The maximum size of article (headers and body) that will be accepted by
the server, in bytes.  A value of \f(CW\*(C`0\*(C'\fR allows any size of article.  The
default value is \f(CW\*(C`1000000\*(C'\fR (approximately 1MB).  See also
\&\fIlocalmaxartsize\fR.
.Ip "\fImaxconnections\fR" 4
.IX Item "maxconnections"
The maximum number of incoming \s-1NNTP\s0 connections \fIinnd\fR\|(8) will accept.  The
default value is \f(CW\*(C`50\*(C'\fR.
.Ip "\fIpathalias\fR" 4
.IX Item "pathalias"
If set, this value is prepended to the Path: header of accepted posts
(before \fIpathhost\fR) if it doesn't already appear in the Path: header.
The main purpose of this parameter is to configure all news servers within
a particular organization to add a common identity string to the
Path: header.  The default value is unset.
.Ip "\fIpgpverify\fR" 4
.IX Item "pgpverify"
Whether to enable \s-1PGP\s0 verification of control messages other than cancel.
This is a boolean value and the default is based on whether configure found
pgp or pgpv.
.Ip "\fIport\fR" 4
.IX Item "port"
What \s-1TCP\s0 port \fIinnd\fR\|(8) should listen on.  The default value is \f(CW\*(C`119\*(C'\fR, the
standard \s-1NNTP\s0 port.
.Ip "\fIrefusecybercancels\fR" 4
.IX Item "refusecybercancels"
Whether to refuse all articles whose message IDs start with
\&\f(CW\*(C`<cancel.\*(C'\fR.  This message \s-1ID\s0 convention is widely followed by spam
cancellers, so the vast majority of such articles will be cancels of spam.
This check, if enabled, is done before the history check and the message
\&\s-1ID\s0 is not written to the history file.  This is a boolean value and the
default is false.
.Sp
This is a somewhat messy, inefficient, and inexact way of refusing spam
cancels.  A much better way is to ask all of your upstream peers to not
send to you any articles with \f(CW\*(C`cyberspam\*(C'\fR in the Path: header (usually
accomplished by having them mark \f(CW\*(C`cyberspam\*(C'\fR as an alias for your machine
in their feed configuration).  The filtering enabled by this parameter is
hard-coded; general filtering of message IDs can be done via the embedded
filtering support.
.Ip "\fIremembertrash\fR" 4
.IX Item "remembertrash"
By default, \fIinnd\fR\|(8) records rejected articles in history so that, if
offered the same article again, it can be refused before it is sent.  If
you wish to disable this behavior, set this to false.  This can cause a
substantial increase in the amount of bandwidth consumed by incoming news
if you have several peers and reject a lot of articles, so be careful with
it.  Even if this is set to true, \s-1INN\s0 won't log some rejected articles to
history if there's reason to believe the article might be accepted if
offered by a different peer, so there is usually no reason to set this to
false (although doing so can decrease the size of the history file).  This
is a boolean value and the default is true.
.Ip "\fIsourceaddress\fR" 4
.IX Item "sourceaddress"
Which local \s-1IP\s0 address to bind to for outgoing \s-1NNTP\s0 sockets (used by
\&\fIinnxmit\fR\|(8) among other programs).  This must be in dotted-quad format
(nnn.nnn.nnn.nnn).  If set to \f(CW\*(C`all\*(C'\fR or not set, the operating system will
choose the source \s-1IP\s0 address for outgoing connections.  The default value
is unset.
.Ip "\fIsourceaddress6\fR" 4
.IX Item "sourceaddress6"
Like \fIsourceaddress\fR but for IPv6 sockets.
.Ip "\fIverifycancels\fR" 4
.IX Item "verifycancels"
Set this to true to enable a simplistic check on all cancel messages,
attempting to verify (by simple header comparison) that the cancel message
is from the same person as the original post.  This can't be done if the
cancel arrives before the article does, and is extremely easy to spoof.
While this check may once have served a purpose, it's now essentially
security via obscurity, commonly avoided by abusers, and probably not
useful.  This is a boolean value, and the default is false.
.Ip "\fIwanttrash\fR" 4
.IX Item "wanttrash"
Set this to true if you want to file articles posted to unknown newsgroups
(newsgroups not in the \fIactive\fR file) into the \f(CW\*(C`junk\*(C'\fR newsgroup rather
than rejecting them.  This is sometimes useful for a transit news server
that needs to propagate articles in all newsgroups regardless if they're
carried locally.  This is a boolean value and the default is false.
.Ip "\fIwipcheck\fR" 4
.IX Item "wipcheck"
If \s-1INN\s0 is offered an article by a peer on one channel, it will return
deferral responses (code 436) to all other offers of that article for this
many seconds.  (After this long, if the peer that offered the article
still hasn't sent it, it will be accepted from other channels.)  The
default value is \f(CW\*(C`5\*(C'\fR and probably doesn't need to be changed.
.Ip "\fIwipexpire\fR" 4
.IX Item "wipexpire"
How long, in seconds, to keep track of message IDs offered on a channel
before expiring articles that still haven't been sent.  The default value
is \f(CW\*(C`10\*(C'\fR and probably doesn't need to be changed.
.Ip "\fIdontrejectfiltered\fR" 4
.IX Item "dontrejectfiltered"
Normally \fIinnd\fR\|(8) rejects article, if article filter (\s-1PERL\s0, Python and \s-1TCL\s0)
is enabled and it tells innd to reject it.  It's never rejected if this is
set to true.  This is useful when \f(CW\*(C`Af\*(C'\fR is specified in \fInewsfeeds\fR\|(5) not
to feed it for the site.
.Sh "Article Storage"
.IX Subsection "Article Storage"
These parameters affect how articles are stored on disk.
.Ip "\fIcnfscheckfudgesize\fR" 4
.IX Item "cnfscheckfudgesize"
If set to a value other than \f(CW\*(C`0\*(C'\fR, the claimed size of articles in \s-1CNFS\s0
cycbuffs is checked against \fImaxartsize\fR plus this value, and if larger,
the \s-1CNFS\s0 cycbuff is considered corrupt.  This can be useful as a sanity
check after a system crash, but be careful using this parameter if you
have changed \fImaxartsize\fR recently.  The default value is \f(CW\*(C`0\*(C'\fR.
.Ip "\fIenableoverview\fR" 4
.IX Item "enableoverview"
Whether to write out overview data for articles.  If set to false, \s-1INN\s0
will run much faster, but reading news from the system will be impossible
(the server will be for news transit only).  If this option is set to
true, \fIovmethod\fR must also be set.  This is a boolean value and the
default is true.
.Ip "\fIgroupbaseexpiry\fR" 4
.IX Item "groupbaseexpiry"
Whether to enable newsgroup-based expiry.  If set to false, article expiry
is done based on storage class of storing method.  If set to true (and
overview information is available), expiry is done by newsgroup name.
This effects the format of \fIexpire.ctl\fR.  This is a boolean value and the
default is true.
.Ip "\fImergetogroups\fR" 4
.IX Item "mergetogroups"
Whether to file all postings to \f(CW\*(C`to.*\*(C'\fR groups in the pseudonewsgroup
\&\f(CW\*(C`to\*(C'\fR.  If this is set to true, the newsgroup \f(CW\*(C`to\*(C'\fR must exist in the
\&\fIactive\fR file or \s-1INN\s0 will not start.  This is a boolean value and the
default is false.
.Ip "\fIovercachesize\fR" 4
.IX Item "overcachesize"
How many cache slots to reserve for open overview files.  If \s-1INN\s0 is
writing overview files (see \fIenableoverview\fR), \fIovmethod\fR is set to
\&\f(CW\*(C`tradindexed\*(C'\fR, and this is set to a value other than \f(CW\*(C`0\*(C'\fR, \s-1INN\s0 will keep
around and open that many recently written-to overview files in case more
articles come in for those newsgroups.  Every overview cache slot consumes
two file descriptors, so be careful not to set this value too high.  You
may be able to use the \f(CW\*(C`limit\*(C'\fR command to see how many open file
descriptors your operating system allows.  \fIinnd\fR\|(8) also uses an open file
descriptor for each incoming feed and outgoing channel or batch file, and
if it runs out of open file descriptors it may throttle and stop accepting
new news.  The default value is \f(CW\*(C`15\*(C'\fR (which is probably way too low if
you have a large number of file descriptors available).
.Sp
This setting is ignored unless \fIovmethod\fR is set to \f(CW\*(C`tradindexed\*(C'\fR.
.Ip "\fIovgrouppat\fR" 4
.IX Item "ovgrouppat"
If set, restricts the overview data stored by \s-1INN\s0 to only the newsgroups
matching this comma-separated list of wildmat expressions.  Newsgroups not
matching this setting may not be readable, and if \fIgroupbaseexpiry\fR is
set to true and the storage method for these newsgroups does not have
self-expire functionality, storing overview data will fail.
The default is unset.
.Ip "\fIovmethod\fR" 4
.IX Item "ovmethod"
Which overview storage method to use.  Currently supported values are
\&\f(CW\*(C`tradindexed\*(C'\fR, \f(CW\*(C`buffindexed\*(C'\fR, and \f(CW\*(C`ovdb\*(C'\fR.  There is no default value;
this parameter must be set if \fIenableoverview\fR is true (the default).
.RS 4
.if n .Ip "\f(CW""""buffindexed""""\fR" 4
.el .Ip "\f(CWbuffindexed\fR" 4
.IX Item "buffindexed"
Stores overview data and index information into buffers, which are
preconfigured files defined in \fIbuffinedexed.conf\fR.  \f(CW\*(C`buffindexed\*(C'\fR never
consumes additional disk space beyond that allocated to these buffers.
.if n .Ip "\f(CW""""tradindexed""""\fR" 4
.el .Ip "\f(CWtradindexed\fR" 4
.IX Item "tradindexed"
Uses two files per newsgroup, one containing the overview data and one
containing the index.  Fast for readers, but slow to write to.
.if n .Ip "\f(CW""""ovdb""""\fR" 4
.el .Ip "\f(CWovdb\fR" 4
.IX Item "ovdb"
Stores data into a Berkeley \s-1DB\s0 database.  See the \fIovdb\fR\|(5) man page.
.RE
.RS 4
.RE
.Ip "\fIhismethod\fR" 4
.IX Item "hismethod"
Which history storage method to use.  The only currently supported
value is \f(CW\*(C`hisv6\*(C'\fR.  There is no default value; this parameter must
be set.
.RS 4
.if n .Ip "\f(CW""""hisv6""""\fR" 4
.el .Ip "\f(CWhisv6\fR" 4
.IX Item "hisv6"
Stores history data in the \s-1INN\s0 history v6 format \- \fIhistory\fR\|(5) text
file and a number of dbz database files; this may be in true history
v6 format, or tagged hash format depending on the build
options. Separation of these two is a project which has not yet been
undertaken.
.RE
.RS 4
.RE
.Ip "\fIstoreonxref\fR" 4
.IX Item "storeonxref"
If set to true, articles will be stored based on the newsgroup names in
the Xref: header rather than in the Newsgroups: header.  This affects what
the patterns in \fIstorage.conf\fR apply to.  The primary interesting effect
of setting this to true is to enable filing of all control messages
according to what storage class the control pseudogroups are filed in
rather than according to the newsgroups the control messages are posted
to.  This is a boolean value and the default is false.
.Ip "\fIuseoverchan\fR" 4
.IX Item "useoverchan"
Whether to create overview data \fIinnd\fR\|(8) internally through \fIlibstorage\fR\|(3).
If set to false, innd create overview data by itself.  If set to true,
innd does not create.  In the case, you need to run \fIoverchan\fR\|(8) by
creating entry in \fInewsfeeds\fR\|(5).  Setting to true may be useful, if innd
can not keep up with incoming feed and the bottle neck is creating overview
data within innd.  This is a boolean value and the default is false.
.Ip "\fIwireformat\fR" 4
.IX Item "wireformat"
Only used with the tradspool storage method, this says whether to write
articles in wire format.  Wire format means storing articles with \er\en at
the end of each line and with periods at the beginning of lines doubled,
the article format required by the \s-1NNTP\s0 protocol.  Articles stored in this
format are suitable for sending directly to a network connection without
requiring conversion, and therefore setting this to true can make the
server more efficient.  The primary reason not to set this is if you have
old existing software that looks around in the spool and doesn't
understand how to read wire format.  Storage methods other than tradspool
always store articles in wire format.  This is a boolean value and the
default is false.
.Ip "\fIxrefslave\fR" 4
.IX Item "xrefslave"
Whether to act as the slave of another server.  If set, \s-1INN\s0 attempts to
duplicate exactly the article numbering of the server feeding it by
looking at the Xref: header of incoming articles and assigning the same
article numbers to articles as was noted in the Xref: header from the
upstream server.  The result is that clients should be able to point at
either server interchangeably (using some load balancing scheme, for
example) and see the same internal article numbering.  Servers with this
parameter set should generally only have one upstream feed, and should
always have \fInnrpdposthost\fR set to hand locally posted articles off to
the master server.  This is a boolean value and the default is false.
.Ip "\fInfswriter\fR" 4
.IX Item "nfswriter"
For servers writing articles, determine whether the article spool is
on \s-1NFS\s0 storage.  If set, \s-1INN\s0 attempts to flush articles to the spool
in a more timely manner, rather than relying on the operating system
to flush things such as the \s-1CNFS\s0 article bitmaps.  You should only set
this parameter if you are attempting to use a shared \s-1NFS\s0 spool on a
machine acting as a single writer within a cluster.  This is a boolean
value and the default is false.
.Ip "\fInfsreader\fR" 4
.IX Item "nfsreader"
For servers reading articles, determine whether the article spool is
on \s-1NFS\s0 storage.  If set, \s-1INN\s0 will attempt to force articles and
overviews to be read directly from the \s-1NFS\s0 spool rather than from
cached copies.  You should only set this parameter if you are
attempting to use a shared \s-1NFS\s0 spool on a machine acting a reader a
cluster.  This is a boolean value and the default is false.
.Ip "\fItradindexedmmap\fR" 4
.IX Item "tradindexedmmap"
Whether to attempt to \fImmap()\fR tradindexed overviews articles.  Setting
this to true will give better performance on most systems, but some
systems have problems with \fImmap()\fR.  If this is set to false, overviews
will be read into memory before being sent to readers.  This is a
boolean value and the default is true.
.Sh "Reading"
.IX Subsection "Reading"
These parameters affect the behavior of \s-1INN\s0 for readers.  Most of them are
used by \fInnrpd\fR\|(8).  There are some special sets of settings that are broken
out separately after the initial alphabetized list.
.Ip "\fIallownewnews\fR" 4
.IX Item "allownewnews"
Whether to allow use of the \s-1NEWNEWS\s0 command by clients.  This command used
to put a heavy load on the server in older versions of \s-1INN\s0, but is now
reasonably efficient, at least if only one newsgroup is specified by the
client.  This is a boolean value and the default is true.
.Ip "\fIarticlemmap\fR" 4
.IX Item "articlemmap"
Whether to attempt to \fImmap()\fR articles.  Setting this to true will give
better performance on most systems, but some systems have problems with
\&\fImmap()\fR.  If this is set to false, articles will be read into memory before
being sent to readers.  This is a boolean value and the default is false.
.Ip "\fIclienttimeout\fR" 4
.IX Item "clienttimeout"
How long (in seconds) a client connection can be idle before it exits.
When setting this parameter, be aware that some newsreaders use the same
connection for reading and posting and don't deal well with the connection
timing out while a post is being composed.  If the system isn't having a
problem with too many long-lived connections, it may be a good idea to
increase this value to \f(CW\*(C`3600\*(C'\fR (an hour).  The default value is \f(CW\*(C`600\*(C'\fR
(ten minutes).
.Ip "\fInnrpdcheckart\fR" 4
.IX Item "nnrpdcheckart"
Whether \fInnrpd\fR\|(8) should check the existence of an article before listing
it as present in response to an \s-1NNTP\s0 command.  The primary use of this
setting is to prevent nnrpd from returning information about articles
which are no longer present on the server but which still have overview
data available.  Checking the existence of articles before returning
overview information slows down the overview commands, but reduces the
number of \*(L"article is missing\*(R" errors seen by the client.  This is a
boolean value and the default is true.
.Ip "\fInnrppythonauth\fR" 4
.IX Item "nnrppythonauth"
Whether to use the Python hook in \fInnrpd\fR\|(8) to authenticate readers.  If
this is enabled, normal \fIreaders.conf\fR\|(5) authentication will not be used,
and instead the python hook will be called to authenticate connections.
This is a boolean value and the default is false.
.Ip "\fInoreader\fR" 4
.IX Item "noreader"
Normally, \fIinnd\fR\|(8) will fork a copy of \fInnrpd\fR\|(8) for all incoming
connections from hosts not listed in \fIincoming.conf\fR.  If this parameter
is set to true, those connections will instead be rejected with a 502
error code.  This should be set to true for a transit-only server that
doesn't support readers, if nnrpd is being started out of inetd, or if
nnrpd is run in daemon mode.  This is a boolean value and the default is
false.
.Ip "\fIreaderswhenstopped\fR" 4
.IX Item "readerswhenstopped"
Whether to allow readers to connect even if the server is paused or
throttled.  This is only applicable if \fInnrpd\fR\|(8) is spawned from \fIinnd\fR\|(8)
rather than run out of inetd or in daemon mode.  This is a boolean value
and the default is false.
.Ip "\fIreadertrack\fR" 4
.IX Item "readertrack"
Whether to enable the tracking system for client behavior.  Tracked
information is recoreded to \fIpathlog\fR/tracklogs/log-ID.  \s-1ID\s0 is determined
by nnrpd's \s-1PID\s0 and when nnrpd runs.  Currenlty that information includes
the messages which tell enabling reader track and where posted article is
tracked.  Which user and client, that is recorded, is determined by
nnrpd.track.  See \fInnrpd.track\fR\|(5) for more information.  This is a boolean
value and the default is false.
.PP
\&\s-1INN\s0 has optional support for generating keyword information automatically
from article body text and putting that information in overview for the
use of clients that know to look for it.  The following parameters control
that feature.
.PP
This may be too slow if you're taking a substantial feed, and probably
will not be useful for the average news reader; enabling this is not
recommended unless you have some specific intention to take advantage of
it.
.Ip "\fIkeywords\fR" 4
.IX Item "keywords"
Whether the keyword generation support should be enabled.  This is a
boolean value and the default is false.
.Sp
\&\s-1FIXME:\s0 Currently, support for keyword generation is configured into \s-1INN\s0
semi-randomly (based on whether configure found the regex library); it
should be an option to configure and that option should be mentioned here.
.Ip "\fIkeyartlimit\fR" 4
.IX Item "keyartlimit"
Articles larger than this value in bytes will not have keywords generated
for them (since it would take too long to do so).  The default value is
\&\f(CW\*(C`100000\*(C'\fR (approximately 100KB).
.Ip "\fIkeylimit\fR" 4
.IX Item "keylimit"
Maximum number of bytes allocated for keyword data.  If there are more
keywords than will fit, separated by commas, into this many bytes, the
rest are discarded.  The default value is \f(CW\*(C`512\*(C'\fR.
.Ip "\fIkeymaxwords\fR" 4
.IX Item "keymaxwords"
Maximum number of keywords that will be generated for an article.  (The
keyword generation code will attempt to discard \*(L"noise\*(R" words, so the
number of keywords actually writen into the overview will usually be
smaller than this even if the maximum number of keywords is found.)  The
default value is \f(CW\*(C`250\*(C'\fR.
.Sh "Posting"
.IX Subsection "Posting"
These parameters are only used by \fInnrpd\fR\|(8), \fIinews\fR\|(1), and other programs
that accept or generate postings.  There are some special sets of settings
that are broken out separately after the initial alphabetized list.
.Ip "\fIaddnntppostingdate\fR" 4
.IX Item "addnntppostingdate"
Whether to add an NNTP-Posting-Date: header to all local posts.  This is a
boolean value and the default is true.
.Ip "\fIaddnntppostinghost\fR" 4
.IX Item "addnntppostinghost"
Whether to add an NNTP-Posting-Host: header to all local posts giving the
\&\s-1FQDN\s0 or \s-1IP\s0 address of the system from which the post was received.  This
is a boolean value and the default is true.
.Ip "\fIcheckincludedtext\fR" 4
.IX Item "checkincludedtext"
Whether to check local postings for the ratio of new to quoted text and
reject them if that ratio is under 50%.  Included text is recognized by
looking for lines beginning with \f(CW\*(C`>\*(C'\fR, \f(CW\*(C`|\*(C'\fR, or \f(CW\*(C`:\*(C'\fR.  This is a
boolean value and the default is false.
.Ip "\fIcomplaints\fR" 4
.IX Item "complaints"
The value of the X-Complaints-To: header added to all local posts.  The
default is the newsmaster's e-mail address.  (If the newsmaster, selected
at configure time and defaulting to \f(CW\*(C`usenet\*(C'\fR, doesn't contain \f(CW\*(C`@\*(C'\fR, the
address will consist of the newsmaster, a \f(CW\*(C`@\*(C'\fR, and the value of
\&\fIfromhost\fR.)
.Ip "\fIfromhost\fR" 4
.IX Item "fromhost"
Contains a domain used to construct e-mail addresses.  The address of the
local news administrator will be given as <user>@\fIfromhost\fR, where <user>
is the newsmaster user set at compile time (\f(CW\*(C`usenet\*(C'\fR by default).  This
setting will also be used by \fImailpost\fR\|(8) to fully qualify addresses and by
\&\fIinews\fR\|(1) to generate the Sender: header (and From: header if missing).
The value of the \s-1FROMHOST\s0 environment variable, if set, overrides this
setting.  The default is the fully-qualified domain name of the local
host.
.Ip "\fIlocalmaxartsize\fR" 4
.IX Item "localmaxartsize"
The maximum article size (in bytes) for locally posted articles.  Articles
larger than this will be rejected.  Also see \fImaxartsize\fR.  The default
value is \f(CW\*(C`1000000\*(C'\fR (approximately 1MB).
.Ip "\fImoderatormailer\fR" 4
.IX Item "moderatormailer"
The address to which to send submissions for moderated groups.  It is only
used if the \fImoderators\fR file doesn't exist, or if the moderated group to
which an article is posted is not matched by any entry in that file, and
takes the same form as an entry in the \fImoderators\fR file.  In most cases,
\&\f(CW\*(C`%s@moderators.isc.org\*(C'\fR is a good value for this parameter (\f(CW\*(C`%s\*(C'\fR is
expanded into a form of the newsgroup name).  See \fImoderators\fR\|(5) for more
details about the syntax.  The default is unset.  If this parameter isn't
set and an article is posted to a moderated group that does not have a
matching entry in the \fImoderators\fR file, the posting will be rejected
with an error.
.Ip "\fInnrpdauthsender\fR" 4
.IX Item "nnrpdauthsender"
Whether to generate a Sender: header based on reader authentication.  If
this parameter is set, a Sender: header will be added to local posts
containing the authenticated user name and the reader's hostname.  If this
is enabled but authentication does not return a username, the Sender:
header will be removed from all posts even if the poster includes one.
This is a boolean value and the default is false.
.Ip "\fInnrpdposthost\fR" 4
.IX Item "nnrpdposthost"
If set, \fInnrpd\fR\|(8) and \fIrnews\fR\|(1) will pass all locally posted articles to the
specified host rather than trying to inject them locally.  This should
always be set if \fIxrefslave\fR is true.  The default value is unset.
.Ip "\fInnrpdpostport\fR" 4
.IX Item "nnrpdpostport"
The port on the remote server to connect to to post when \fInnrpdposthost\fR
is used.  The default value is \f(CW\*(C`119\*(C'\fR.
.Ip "\fIorganization\fR" 4
.IX Item "organization"
What to put in the Organization: header if it is left blank by the poster.
The value of the \s-1ORGANIZATION\s0 environment variable, if set, overrides this
setting.  The default is unset, which tells \s-1INN\s0 not to insert an
Organization: header.
.Ip "\fIspoolfirst\fR" 4
.IX Item "spoolfirst"
If true, \fInnrpd\fR\|(8) will spool new articles rather than attempting to send
them to \fIinnd\fR\|(8).  If false, nnrpd will spool articles only if it receives
an error trying to send them to innd.  Setting this to true can be useful
if nnrpd must respond as fast as possible to the client; however, when
set, articles will not appear to readers until they are given to innd.
nnrpd won't do this; \f(CW\*(C`rnews \-U\*(C'\fR must be run periodically to take the
spooled articles and post them.  This is a boolean value and the default
is false.
.Ip "\fIstrippostcc\fR" 4
.IX Item "strippostcc"
Whether to strip To:, Cc:, and Bcc: headers out of all local posts via
\&\fInnrpd\fR\|(8).  The primary purpose of this setting is to prevent abuse of the
news server by posting to a moderated group and including To: or Cc:
headers in the post so that the news server will send the article to
arbitrary addresses.  \s-1INN\s0 now protects against this abuse in other ways
provided \fImta\fR is set to a command that includes \f(CW\*(C`%s\*(C'\fR and honors it, so
this is generally no longer needed.  This is a boolean value and the
default is false.
.PP
\&\fInnrpd\fR\|(8) has support for controlling high-volume posters via an
exponential backoff algorithm, as configured by the following parameters.
.PP
Exponential posting backoff works as follows:  News clients are indexed by
\&\s-1IP\s0 address (or username, see \fIbackoffauth\fR below).  Each time a post is
received from an \s-1IP\s0 address, the time of posting is stored (along with the
previous sleep time, see below).  After a configurable number of posts in
a configurable period of time, \fInnrpd\fR\|(8) will activate posting backoff and
begin to sleep for increasing periods of time before actually posting
anything.  Posts will still be accepted, but an increasingly reduced rate.
.PP
After backoff has been activated, the length of time to sleep is computed
based on the difference in time between the last posting and the current
posting.  If this difference is less than \fIbackoffpostfast\fR, the new
sleep time will be 1 + (previous sleep time * \fIbackoffk\fR).  If this
difference is less than \fIbackoffpostslow\fR but greater than
\&\fIbackoffpostfast\fR, then the new sleep time will equal the previous sleep
time.  If this difference is greater than \fIbackoffpostslow\fR, the new
sleep time is zero and posting backoff is deactivated for this poster.
.PP
Exponential posting backoff will not be enabled unless \fIbackoffdb\fR is set
and \fIbackoffpostfast\fR and \fIbackoffpostslow\fR are set to something other
than their default values.
.PP
Here are the parameters that control exponential posting backoff:
.Ip "\fIbackoffauth\fR" 4
.IX Item "backoffauth"
Whether to index posting backoffs by user rather than by source \s-1IP\s0
address.  You must be using authentication in \fInnrpd\fR\|(8) for a value of true
to have any meaning.  This is a boolean value and the default is false.
.Ip "\fIbackoffdb\fR" 4
.IX Item "backoffdb"
The path to a directory, writeable by the news user, that will contain the
backoff database.  There is no default for this parameter; you must
provide a path to an creatable and writeable directory, if exists, to enable
exponential backoff.
.Ip "\fIbackoffk\fR" 4
.IX Item "backoffk"
The amount to multiply the previous sleep time by if the user is still
posting too quickly.  A value of \f(CW\*(C`2\*(C'\fR will double the sleep time for each
excessive post.  The default value is \f(CW\*(C`1\*(C'\fR.
.Ip "\fIbackoffpostfast\fR" 4
.IX Item "backoffpostfast"
Postings from the same identity that arrive in less than this amount of
time (in seconds) will trigger increasing sleep time in the backoff
algorithm.  The default value is \f(CW\*(C`0\*(C'\fR.
.Ip "\fIbackoffpostslow\fR" 4
.IX Item "backoffpostslow"
Postings from the same identity that arrive in greater than this amount of
time (in seconds) will reset the backoff algorithm.  Another way to look
at this constant is to realize that posters will be allowed to post
86400/\fIbackoffpostslow\fR posts per day.  The default value is \f(CW\*(C`1\*(C'\fR.
.Ip "\fIbackofftrigger\fR" 4
.IX Item "backofftrigger"
This many postings are allowed before the backoff algorithm is triggered.
The default value is \f(CW\*(C`10000\*(C'\fR.
.Sh "Monitoring"
.IX Subsection "Monitoring"
These parameters control the behavior of \fIinnwatch\fR\|(8), the program that
monitors \s-1INN\s0 and informs the news administrator if anything goes wrong
with it.
.Ip "\fIdoinnwatch\fR" 4
.IX Item "doinnwatch"
Whether to start \fIinnwatch\fR\|(8) from rc.news.  This is a boolean value, and
the default is true.
.Ip "\fIinnwatchbatchspace\fR" 4
.IX Item "innwatchbatchspace"
Free space in \fIpathoutgoing\fR, in \fIinndf\fR\|(8) output units, at which \fIinnd\fR\|(8)
will be throttled by \fIinnwatch\fR\|(8), assuming a default \fIinnwatch.ctl\fR\|(5).  The
default value is \f(CW\*(C`800\*(C'\fR.
.Ip "\fIinnwatchlibspace\fR" 4
.IX Item "innwatchlibspace"
Free space in \fIpathdb\fR, in \fIinndf\fR\|(8) output units, at which \fIinnd\fR\|(8) will
be throttled by \fIinnwatch\fR\|(8), assuming a default \fIinnwatch.ctl\fR\|(5).  The
default value is \f(CW\*(C`25000\*(C'\fR.
.Ip "\fIinnwatchloload\fR" 4
.IX Item "innwatchloload"
Load average times 100 at \fIinnd\fR\|(8) will be restarted by \fIinnwatch\fR\|(8)
(undoing a previous pause or throttle), assuming a default
\&\fIinnwatch.ctl\fR\|(5).  The default value is \f(CW\*(C`1000\*(C'\fR.
.Ip "\fIinnwatchhiload\fR" 4
.IX Item "innwatchhiload"
Load average times 100 at which \fIinnd\fR\|(8) will be throttled by \fIinnwatch\fR\|(8),
assuming a default \fIinnwatch.ctl\fR\|(5).  The default value is \f(CW\*(C`2000\*(C'\fR.
.Ip "\fIinnwatchpauseload\fR" 4
.IX Item "innwatchpauseload"
Load average times 100 at which \fIinnd\fR\|(8) will be paused by \fIinnwatch\fR\|(8),
assuming a default \fIinnwatch.ctl\fR\|(5).  The default value is \f(CW\*(C`1500\*(C'\fR.
.Ip "\fIinnwatchsleeptime\fR" 4
.IX Item "innwatchsleeptime"
How long (in seconds) \fIinnwatch\fR\|(8) will sleep between each check of \s-1INN\s0.
The default value is \f(CW\*(C`600\*(C'\fR.
.Ip "\fIinnwatchspoolnodes\fR" 4
.IX Item "innwatchspoolnodes"
Free inodes in \fIpatharticles\fR at which \fIinnd\fR\|(8) will be throttled by
\&\fIinnwatch\fR\|(8), assuming a default \fIinnwatch.ctl\fR\|(5).  The default value is
\&\f(CW\*(C`200\*(C'\fR.
.Ip "\fIinnwatchspoolspace\fR" 4
.IX Item "innwatchspoolspace"
Free space in \fIpatharticles\fR and \fIpathoverview\fR, in \fIinndf\fR\|(8) output
units, at which \fIinnd\fR\|(8) will be throttled by \fIinnwatch\fR\|(8), assuming a
default \fIinnwatch.ctl\fR\|(5).  The default value is \f(CW\*(C`8000\*(C'\fR.
.Sh "Logging"
.IX Subsection "Logging"
These parameters control what information \s-1INN\s0 logs.
.Ip "\fIdocnfsstat\fR" 4
.IX Item "docnfsstat"
Whether to start \fIcnfsstat\fR\|(8) when \fIinnd\fR\|(8) is started.  cnfsstat will log
the status of all \s-1CNFS\s0 cycbuffs to syslog on a periodic basis.  This is a
boolean value and the default is false.
.Ip "\fIlogartsize\fR" 4
.IX Item "logartsize"
Whether the size of accepted articles (in bytes) should be written to the
article log file.  This is useful for flow rate statistics and is
recommended.  This is a boolean value and the default is true.
.Ip "\fIlogcancelcomm\fR" 4
.IX Item "logcancelcomm"
Set this to true to log \f(CW\*(C`ctlinnd cancel\*(C'\fR commands to syslog.  This is a
boolean value and the default is false.
.Ip "\fIlogcycles\fR" 4
.IX Item "logcycles"
How many old logs \fIscanlogs\fR\|(8) keeps.  \fIscanlogs\fR\|(8) is generally run by
\&\fInews.daily\fR\|(8) and will archive compressed copies of this many days worth
of old logs.  The default value is \f(CW\*(C`3\*(C'\fR.
.Ip "\fIlogipaddr\fR" 4
.IX Item "logipaddr"
Whether the verified name of the remote feeding host should be logged to
the article log for incoming articles rather than the last entry in the
Path: header.  The only reason to ever set this to false is due to some
interactions with \fInewsfeeds\fR flags; see \fInewsfeeds\fR\|(5) for more
information.  This is a boolean value and the default is true.
.Ip "\fIlogsitename\fR" 4
.IX Item "logsitename"
Whether the names of the sites to which accepted articles will be sent
should be put into the article log file.  This is useful for debugging and
statistics and can be used by \fInewsrequeue\fR\|(8).  This is a boolean value and
the default is true.
.Ip "\fInnrpdoverstats\fR" 4
.IX Item "nnrpdoverstats"
Whether nnrpd overview statistics should be logged via syslog.  This can
be useful for measuring overview performance.  This is a boolean value and
the default is false.
.Ip "\fInntpactsync\fR" 4
.IX Item "nntpactsync"
How many articles to process on an incoming channel before logging the
activity.  The default value is \f(CW\*(C`200\*(C'\fR.
.Sp
\&\s-1FIXME:\s0 This is a rather unintuitive name for this parameter.
.Ip "\fInntplinklog\fR" 4
.IX Item "nntplinklog"
Whether to put the storage \s-1API\s0 token for accepted articles (used by
nntplink) in the article log.  This is a boolean value and the default is
false.
.Ip "\fIstathist\fR" 4
.IX Item "stathist"
Where to write history statistics.  It's not logged unless specified.
This can be disabled by \fIctlinnd\fR\|(8) after innd runs.
.Ip "\fIstatus\fR" 4
.IX Item "status"
How frequently (in seconds) \fIinnd\fR\|(8) should write out a status report.  The
report is written to \fIpathhttp\fR/inn_status.html.  If this is set to \f(CW\*(C`0\*(C'\fR or
\&\f(CW\*(C`false\*(C'\fR, status reporting is disabled.  The default value is \f(CW\*(C`0\*(C'\fR.
.Ip "\fItimer\fR" 4
.IX Item "timer"
How frequently (in seconds) \fIinnd\fR\|(8) should report performance timings to
syslog.  If this is set to \f(CW\*(C`0\*(C'\fR or \f(CW\*(C`false\*(C'\fR, performance timing is
disabled.  Enabling this is highly recommended, and \fIinnreport\fR\|(8) can
produce a nice summary of the timings.  The default value is \f(CW\*(C`0\*(C'\fR.
.Sh "System Tuning"
.IX Subsection "System Tuning"
The following parameters can be modified to tune the low-level operation
of \s-1INN\s0.  In general, you shouldn't need to modify any of them except
possibly \fIrlimitnofile\fR unless the server is having difficulty.
.Ip "\fIbadiocount\fR" 4
.IX Item "badiocount"
How many read or write failures until a channel is put to sleep or
closed.  The default value is \f(CW\*(C`5\*(C'\fR.
.Ip "\fIblockbackoff\fR" 4
.IX Item "blockbackoff"
Each time an attempted write returns \s-1EAGAIN\s0 or \s-1EWOULDBLOCK\s0, \fIinnd\fR\|(8) will
wait for an increasing number of seconds before trying it again.  This is
the multiplier for the sleep time.  If you're having trouble with channel
feeds not keeping up, it may be good to change this value to \f(CW\*(C`2\*(C'\fR or \f(CW\*(C`3\*(C'\fR,
since then when the channel fills \s-1INN\s0 will try again in a couple of
seconds rather than waiting two minutes.  The default value is \f(CW\*(C`120\*(C'\fR.
.Ip "\fIchaninacttime\fR" 4
.IX Item "chaninacttime"
The time (in seconds) to wait between noticing inactive channels.  The
default value is \f(CW\*(C`600\*(C'\fR.
.Ip "\fIchanretrytime\fR" 4
.IX Item "chanretrytime"
How many seconds to wait before a channel restarts.  The default value is
\&\f(CW\*(C`300\*(C'\fR.
.Ip "\fIdatamovethreshold\fR" 4
.IX Item "datamovethreshold"
The threshold whether moving already read data to the top of buffer or
extending buffer.  The buffer described here is used for reading \s-1NNTP\s0 data.
For those systems which do not have enough memory should not use higher value.
The default value is 8192.  The value is allowed to be between 0 and 1048576,
and the value out of range is treated as 1048576.
.Ip "\fIicdsynccount\fR" 4
.IX Item "icdsynccount"
How many article writes between updating the active and history files.
The default value is \f(CW\*(C`10\*(C'\fR.
.Ip "\fIkeepmmappedthreshold\fR" 4
.IX Item "keepmmappedthreshold"
When overview retrieval which means responding '\s-1XOVER\s0' or running
expireover, buffindexed mmap's all overview data blocks which include
requested overview data internally for newsgroup.  But for high volumed
newsgroups like control.cancel, it will try to do too many mmapping at
once, and this may lead to system resource problem.  To avoid this,
buffindexed mmap's just one overview block(8KB), if it will try to mmap
over \*(L"keepmmappedthreshold * 1024\*(R"(bytes).  This parameter is specific
to buffindexed overview storage method.  The default value is \f(CW\*(C`1024\*(C'\fR
(1MB).
.Ip "\fImaxcmdreadsize\fR" 4
.IX Item "maxcmdreadsize"
If set to anything other than \f(CW\*(C`0\*(C'\fR, maximun buffer size for reading \s-1NNTP\s0
command will have this value.  It should not be large for system which is
slow to process and store articles.  Otherwise \fIinnd\fR\|(8) will stay for long
time at one channel to process and have other channels keep waiting for
long time.  The default value is \s-1BUFSIZ\s0 defined in stdio.h(\f(CW\*(C`1024\*(C'\fR in most
environment).
.Ip "\fImaxforks\fR" 4
.IX Item "maxforks"
How many times to attempt a \fIfork\fR\|(2) before giving up.  The default value
is 10.
.Ip "\fInicekids\fR" 4
.IX Item "nicekids"
If set to anything other than \f(CW\*(C`0\*(C'\fR, all child processes of \fIinnd\fR\|(8) will
have this \fInice\fR\|(2) value.  This is usually used to give all child processes
of \fIinnd\fR\|(8) a lower priority (higher nice value) so that \fIinnd\fR\|(8) can get
the lion's share of the \s-1CPU\s0 when it needs it.  The default value is \f(CW\*(C`4\*(C'\fR.
.Ip "\fInicenewnews\fR" 4
.IX Item "nicenewnews"
If set to anything greater than \f(CW\*(C`0\*(C'\fR, all \fInnrpd\fR\|(8) processes that receive
and process a \s-1NEWNEWS\s0 command will \fInice\fR\|(2) themselves to this value
(giving other nnrpd processes a higher priority).  The default value is
\&\f(CW\*(C`0\*(C'\fR.  Note that this value will be ignored if set to a lower value than
\&\fInicennrpd\fR (or \fInicekids\fR if \fInnrpd\fR\|(8) is spawned from \fIinnd\fR\|(8)).
.Ip "\fInicennrpd\fR" 4
.IX Item "nicennrpd"
If set to anything greater than \f(CW\*(C`0\*(C'\fR, all \fInnrpd\fR\|(8) processes will \fInice\fR\|(1)
themselves to this value.  This gives other news processes a higher
priority and can help \fIoverchan\fR\|(8) keep up with incoming news (if that's
the object, be sure \fIoverchan\fR\|(8) isn't also set to a lower priority via
\&\fInicekids\fR).  The default value is \f(CW\*(C`0\*(C'\fR, which will cause \fInnrpd\fR\|(8)
processes spawned from \fIinnd\fR\|(8) to use the value of \fInicekids\fR and
\&\fInnrpd\fR\|(8) run as a daemon to use the system default priority.  Note that
for \fInnrpd\fR\|(8) processes spawned from \fIinnd\fR\|(8), this value will be ignored if
set to a value lower than \fInicekids\fR.
.Ip "\fIpauseretrytime\fR" 4
.IX Item "pauseretrytime"
Wait for this many seconds before noticing inactive channels.
Wait for this many seconds before innd processes article when it's paused
or the number of channel write failure exceeds \fIbadiocount\fR.  The
default value is \f(CW\*(C`300\*(C'\fR.
.Ip "\fIpeertimeout\fR" 4
.IX Item "peertimeout"
How long (in seconds) an \fIinnd\fR\|(8) incoming channel may be inactive before
innd closes it.  The default value is \f(CW\*(C`3600\*(C'\fR (an hour).
.Ip "\fIrlimitnofile\fR" 4
.IX Item "rlimitnofile"
The maximum number of file descriptors that \fIinnd\fR\|(8) or \fIinnfeed\fR\|(8) can have
open at once.  If \fIinnd\fR\|(8) or \fIinnfeed\fR\|(8) attempts to open more file
descriptors than this value, it is possible the program may throttle or
otherwise suffer reduced functionality.  The number of open file
descriptors is roughly the maximum number of incoming feeds and outgoing
batches for \fIinnd\fR\|(8) and the number of outgoing streams for \fIinnfeed\fR\|(8).  If
this parameter is set to a negative value, the default limit of the
operating system will be used; this will normally be adequate on systems
other than Solaris.  Nearly all operating systems have some hard maximum
limit beyond which this value cannot be raised, usually either 128, 256,
or 1024.  The default value of this parameter is \-1.  Setting it to 256 on
Solaris systems is highly recommended.
.Sh "Paths and File Names"
.IX Subsection "Paths and File Names"
.Ip "\fIpatharchive\fR" 4
.IX Item "patharchive"
Where to store archived news.  The default value is \fIpathspool\fR/archive.
.Ip "\fIpatharticles\fR" 4
.IX Item "patharticles"
The path to where the news articles are stored (for storage methods other
than \s-1CNFS\s0).  The default value is \fIpathspool\fR/spool.
.Ip "\fIpathbin\fR" 4
.IX Item "pathbin"
The path to the news binaries.  The default value is \fIpathnews\fR/bin.
.Ip "\fIpathcontrol\fR" 4
.IX Item "pathcontrol"
The path to the files that handle control messages.  The code for handling
each separate type of control message is located here.  Be very careful
what you put in this directory with a name ending in \f(CW\*(C`.pl\*(C'\fR, as it can
potentially be a severe security risk.  The default value is
\&\fIpathbin\fR/control.
.Ip "\fIpathdb\fR" 4
.IX Item "pathdb"
The path to the database files used and updated by the server (currently,
active, active.times, history and its indices, and newsgroups).  The
default value is \fIpathnews\fR/db.
.Ip "\fIpathetc\fR" 4
.IX Item "pathetc"
The path to the news configuration files.  The default value is
\&\fIpathnews\fR/etc.
.Ip "\fIpathfilter\fR" 4
.IX Item "pathfilter"
The path to the Perl, Tcl, and Python filters.  The default value is
\&\fIpathbin\fR/filter.
.Ip "\fIpathhttp\fR" 4
.IX Item "pathhttp"
Where any \s-1HTML\s0 files (such as periodic status reports) are placed.  If the
news reports should be available in real-time on the web, the files in
this directory should be served by a web server.  The default value is
the value of \fIpathlog\fR.
.Ip "\fIpathincoming\fR" 4
.IX Item "pathincoming"
Location where incoming batched news is stored.  The default value is
\&\fIpathspool\fR/incoming.
.Ip "\fIpathlog\fR" 4
.IX Item "pathlog"
Where the news log files are written.  The default value is
\&\fIpathnews\fR/log.
.Ip "\fIpathnews\fR" 4
.IX Item "pathnews"
The home directory of the news user and usually the root of the news
hierarchy.  There is no default; this parameter must be set in \fIinn.conf\fR
or \s-1INN\s0 will refuse to start.
.Ip "\fIpathoutgoing\fR" 4
.IX Item "pathoutgoing"
Default location for outgoing feed files.  The default value is
\&\fIpathspool\fR/outgoing.
.Ip "\fIpathoverview\fR" 4
.IX Item "pathoverview"
The path to news overview files.  The default value is
\&\fIpathspool\fR/overview.
.Ip "\fIpathrun\fR" 4
.IX Item "pathrun"
The path to files required while the server is running and run-time state
information.  This includes lock files and the sockets for communicating
with \fIinnd\fR\|(8).  This directory and the control sockets in it should be
protected from unprivileged users other than the news user.  The default
value is \fIpathnews\fR/run.
.Ip "\fIpathspool\fR" 4
.IX Item "pathspool"
The root of the news spool hierarchy.  This used mostly to set the
defaults for other parameters, and to determine the path to the backlog
directory for \fIinnfeed\fR\|(8).  The default value is \fIpathnews\fR/spool.
.Ip "\fIpathtmp\fR" 4
.IX Item "pathtmp"
Where \s-1INN\s0 puts temporary files.  For security reasons, this is not the
same as the system temporary files directory (\s-1INN\s0 creates a lot of
temporary files with predictable names and does not go to particularly
great lengths to protect against symlink attacks and the like; this is
safe provided that normal users can't write into its temporary
directory).  It must be on the same partition as \fIpathincoming\fR for
\&\fIrnews\fR\|(1) to work correctly.  The default value is set at configure time
and defaults to \fIpathnews\fR/tmp.
.SH "EXAMPLE"
.IX Header "EXAMPLE"
Here is a very minimalist example that only sets those parameters that are
required.
.PP
.Vb 4
\&    mta:                /usr/lib/sendmail -oi -oem %s
\&    ovmethod:           tradindexed
\&    pathhost:           news.example.com
\&    pathnews:           /usr/local/news
.Ve
For a more comprehensive example, see the sample \fIinn.conf\fR distributed
with \s-1INN\s0 and installed as a starting point; it contains all of the default
values for reference.
.SH "HISTORY"
.IX Header "HISTORY"
Written by Rich \f(CW$alz\fR <rsalz@uunet.uu.net> for InterNetNews and since
modified, updated, and reorganized by innumerable other people.
.PP
$Id$
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIinews\fR\|(1), \fIinnd\fR\|(8), \fIinnwatch\fR\|(8), \fInnrpd\fR\|(8), \fIrnews\fR\|(1).
.PP
Nearly every program in \s-1INN\s0 uses this file to one degree or another.  The
above are just the major and most frequently mentioned ones.
