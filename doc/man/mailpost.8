.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.13
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "MAILPOST 8"
.TH MAILPOST 8 "2004-01-25" "INN 2.5.0" "InterNetNews Documentation"
.SH "NAME"
mailpost \- feed an email message into a news group
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBmailpost\fR [\fB\-a\fR \fIaddr\fR] [\fB\-b\fR \fIdatabase\fR] [\fB\-c\fR \fIwait-time\fR]
[\fB\-d\fR \fIdistribution\fR] [\fB\-f\fR \fIaddr\fR] [\fB\-m\fR \fImailing-list\fR]
[\fB\-p\fR \fIport\fR] [\fB\-r\fR \fIaddr\fR] [\fB\-x\fR \fIheader\fR[\fB:\fR\fIheader\fR...]]
[\fInewsgroups\fR ...]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \fBmailpost\fR program reads a properly formatted email message from stdin
and feeds it to inews for posting to a news server. \fInewsgroups\fR is a
whitespace-separated list of group names to which to post the article.
.PP
Before feeding the article to inews, it checks that the article has not
been seen before, and it changes some headers (cleans up some address
headers and puts ``X\-'' in front of unknown headers).
.PP
If the article has been seen before (\fBmailpost\fR records the message-id of
each articles it handles), then the article will be silently dropped. Other
errors will cause the article to be mailed to the newsmaster.
.PP
Normally mailpost is run by \fIsendmail\fR\|(8) via an alias entry:
.PP
local\-mail\-wreck\-bikes: \*(L"|<pathbin in inn.conf>/mailpost
         \-d local local.mail.rec.bicycles.racing\*(R"
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-a\fR \fIaddr\fR" 4
.IX Item "-a addr"
If the \fB\-a\fR flag is used the value given is added to the article 
as an Approved header.
.IP "\fB\-b\fR \fIdatabase\fR" 4
.IX Item "-b database"
If the \fB\-b\fR flag is used, then it defines the location of the database 
used to store the message ids of articles sent on. This is to prevent articles
looping around if a news to mail gateway sends them back here. This option may
be required if the mailpost process doesn't have write access to the news tmp
directory (the value of \fIpathtmp\fR in \fIinn.conf\fR\|(5)).
.IP "\fB\-c\fR \fIwait-time\fR" 4
.IX Item "-c wait-time"
The \fB\-c\fR flag indicates a length of time to sleep before posting.  If
duplicate messages are received in this interval (by any instance of
\&\fBmailpost\fR using the same database), the article is only posted once, but
with Newsgroups: header modified to crosspost the article to all indicated
groups.
.IP "\fB\-d\fR \fIdistribution\fR" 4
.IX Item "-d distribution"
If the \fB\-d\fR flag is used the value given is added to the article as a
Distribution: header.
.IP "\fB\-f\fR \fIaddr\fR" 4
.IX Item "-f addr"
The \fB\-f\fR flag is a synonym for the \fB\-r\fR flag.
.IP "\fB\-m\fR \fImailing-list\fR" 4
.IX Item "-m mailing-list"
If the \fB\-m\fR flag is used the value given is added to the articles in a 
Mailing\-List: header, if such a header doesn't already exist.
.IP "\fB\-p\fR \fIport\fR" 4
.IX Item "-p port"
Specifies the port on which \fBnnrpd\fR is listening, used for article posting.
If given, \fB\-p\fR is passed along to inews.
.IP "\fB\-r\fR \fIaddr\fR" 4
.IX Item "-r addr"
A heuristic is used to determine a reasonable value for the Path: header.
The \fB\-r\fR flag indicates what to use if no other value can be determined.
.IP "\fB\-x\fR \fIheader\fR[:\fIheader\fR...]" 4
.IX Item "-x header[:header...]"
A colon-separated list of additional headers which should be treated as
known headers; these headers will be passed through to \fIinews\fR\|(1) without
having \*(L"X\-\*(R" prepended.
.SH "HISTORY"
.IX Header "HISTORY"
Written by Paul Vixie long ago and then hacked up by James Brister for \s-1INN\s0 
integration.
.PP
$Id$
.SH "FILES"
.IX Header "FILES"
<pathdb in inn.conf>/mailpost\-msgid.db	database file
.SH "BUGS"
.IX Header "BUGS"
Is lacking in configurability.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIactive\fR\|(5), \fIinn.conf\fR\|(5), \fInnrpd\fR\|(8), \fIuwildmat\fR\|(3).
